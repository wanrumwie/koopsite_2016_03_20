{% extends "base_js_tests.html" %}

{% load staticfiles %}

{% block title %}
    KoopSite - folders - folder_browtab_ajax.js
{% endblock title %}

{% block qunit-fixture %}
    {% load staticfiles %}
    {% load koop_template_filters %}
    {% load folder_template_filters %}

  <table class="scrolltable tbody-height-55vh folders4 transformtable khaki-theme" id="browtable">
   <thead>
    <tr>
     <th data-column-header="Тип" id="th1">
      <button id="button-sort-1" title="Групування (теки-документи) при сортуванні">
       Тип
      </button>
     </th>
     <th data-column-header="Найменування" id="th2">
      <button id="button-sort-2" title="Сортування">
       Найменування
      </button>
     </th>
     <th data-column-header="Дата" id="th3">
      <button id="button-sort-3" title="Сортування">
       Дата
      </button>
     </th>
     <th data-column-header="Розмір" id="th4">
      <button id="button-sort-4" title="Сортування">
       Розмір
      </button>
     </th>
    </tr>
   </thead>
   <tbody id="tablebody">
    <tr id="tr-folder#17">
     <td data-column-header="Тип" id="td1-folder#17">
      <img alt="folder" src="/static/img/folder.png"/>
     </td>
     <td data-column-header="Найменування" id="td2-folder#17">
      <a href="/folders/17/contents/" id="folder#17">
       Звітність
      </a>
     </td>
     <td data-column-header="Дата" id="td3-folder#17">
      <span>
      </span>
     </td>
     <td data-column-header="Розмір" id="td4-folder#17">
      <span>
      </span>
     </td>
    </tr>
    <tr id="tr-folder-9">
     <td data-column-header="Тип" id="td1-folder#9">
      <img alt="folder" src="/static/img/folder.png"/>
     </td>
     <td data-column-header="Найменування" id="td2-folder#9">
      <a href="/folders/9/contents/" id="folder#9">
       Проектна документація
      </a>
     </td>
     <td data-column-header="Дата" id="td3-folder#9">
      <span>
      </span>
     </td>
     <td data-column-header="Розмір" id="td4-folder#9">
      <span>
      </span>
     </td>
    </tr>
    <tr id="tr-report#138">
     <td data-column-header="Тип" id="td1-report#138">
      <img alt="report" src="/static/img/file-icons/32px/jpg.png"/>
     </td>
     <td data-column-header="Найменування" id="td2-report#138">
      <a href="/folders/report/138/view/" id="report#138">
       Pismo M..jpg
      </a>
     </td>
     <td data-column-header="Дата" id="td3-report#138">
      <span>
       14.01.2016
      </span>
     </td>
     <td data-column-header="Розмір" id="td4-report#138">
      <span>
       307,3 Кб
      </span>
     </td>
    </tr>
    <tr id="tr-report#140">
     <td data-column-header="Тип" id="td1-report#140">
      <img alt="report" src="/static/img/file-icons/32px/pdf.png"/>
     </td>
     <td data-column-header="Найменування" id="td2-report#140">
      <a href="/folders/report/140/view/" id="report#140">
       UPandDOWN - Complete Informations about movie!.pdf
      </a>
     </td>
     <td data-column-header="Дата" id="td3-report#140">
      <span>
       11.01.2015
      </span>
     </td>
     <td data-column-header="Розмір" id="td4-report#140">
      <span>
       103,2 Кб
      </span>
     </td>
    </tr>
   </tbody>
  </table>

    <!-- Обмін даними через AJAX: -->
    <form method="post"
        id="selRowIndex_form"
        class="nodisplay"
        >
        {% csrf_token %}

        <input id="csrfmiddlewaretoken" type="text" value="{{ csrf_token }}">
        <label for="parent_id">parent_folder_id:</label>
        <input id="parent_id"       type="text" value="parent.id">
        <label for="list_length">list_length:</label>
        <input id="list_length"     type="text" value="{{ object_list|length }}">
        <label for="json_arr">json_arr:</label>
        <input id="json_arr"        type="text" value="{{ json_arr }}">

        <!-- У ці поля view запише назву таблиці та параметри стартового
            обраного рядка (індекс рядка, id та тип елемента (ім'я моделі)).
            Крім того js силоміць перезапише ці параметри (на випадок
            якщо сторінка кешувалася і не хоче перезавантажуватися): -->
        <label for="browTabName">browTabName:</label>
        <input id="browTabName"   type="text" value="browTabName">
        <label for="startRowIndex">startRowIndex:</label>
        <input id="startRowIndex"   type="text" value="startRowIndex">
        <label for="selRowIndex">selRowIndex:</label>
        <input id="selRowIndex"     type="text" value="selRowIndex">
        <label for="selElementModel">selected_element_model:</label>
        <input id="selElementModel" type="text" value="selElementModel">
        <label for="selElementID">selected_element_id:</label>
        <input id="selElementID"    type="text"   value="selElementID">
        <input id="button"      type="button" value="send to server">
    </form>

    <!-- Контейнер діалог-форма, яка буде оброблятися ф-ціями:
        ajax_folderCreate
        ajax_folderRename
        ajax_reportCreate
        ajax_reportRename
    -->
    <div  id="dialog-box-form"
          class="nodisplay"
          >
        <form id="dialog-form" method="post"
             class="popup-form"
             onsubmit="return false;"
             enctype="multipart/form-data">
            {% csrf_token %}
            <table>
                <tbody>
                    <tr>
                        <td>
                            <label for="id_name"></label>
                        </td>
                        <td>
                            <input id="id_name" maxlength="256"
                                   value="New name"
                                   name="name" type="text" autofocus/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                        </td>
                        <td>
                            <!-- Контейнер для progressbar: -->
                            <div id="progressbar"></div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>

{% endblock qunit-fixture %}

{% block tested_script %}
    <script src="{% static 'js/jstree/jstree.js' %}"        ></script>

    <script src="{% static 'js/browtab.js' %}"          ></script>
    <script src="{% static 'js/browtab_ajax.js' %}"          ></script>
    <script src="{% static 'js/folder_browtab.js' %}"          ></script>
    <script src="{% static 'js/folder_browtab_ajax.js' %}"          ></script>
{% endblock tested_script %}

{% block test_script %}
    <script src="{% static 'folders/tests_folder_browtab_ajax.js' %}"></script>
{% endblock test_script %}
